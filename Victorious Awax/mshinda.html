<!DOCTYPE html>
<html lang="fr">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NZWFGJST12"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-NZWFGJST12');
  </script>

  <!-- Ads -->
  <script>(function(d,z,s){s.src='https://'+d+'/401/'+z;try{(document.body||document.documentElement).appendChild(s)}catch(e){}})('groleegni.net',9621484,document.createElement('script'))</script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MSHINDA - M3'Music</title>
  <link rel="stylesheet" href="../music.css" />
  <link rel="stylesheet" type="text/css" href="../lecteur.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body class="dark">
  <header class="music-header">
    <div class="logo-container">
      <img src="../m3-music.png" alt="Logo M3'Music">
      <h1><strong>MSHINDA</strong></h1>
    </div>
    <nav class="nav-desktop">
      <ul>
        <li><a href="../index.html"><i class="fas fa-home"></i> Accueil</a></li>
        <li><a href="../albums.html"><i class="fas fa-compact-disc"></i> Albums</a></li>
        <li><a href="../artistes.html"><i class="fas fa-user"></i> Artistes</a></li>
        <li><a href="../clips.html"><i class="fas fa-video"></i> Clips</a></li>
      </ul>
    </nav>
  </header>

  <main class="music-content" style="background-image: url('MSHINDA/mshinda.jpg');">
    <h2><strong>Victorious Awax - MSHINDA</strong></h2>

    <section class="audio-player">
      <div class="track-info">
        <img id="cover" src="cover.jpg" alt="Pochette">
        <div>
          <h3 id="title">Titre</h3>
          <p id="artist">Artiste</p>
          <p id="album">Album</p>
        </div>
      </div>

      <audio id="audio"></audio>

      <div class="controls">
        <button id="prev"><i class="fas fa-backward"></i></button>
        <button id="play"><i class="fas fa-play"></i></button>
        <button id="next"><i class="fas fa-forward"></i></button>
        <button id="mode" title="Mode de lecture"><i class="fas fa-music"></i></button>
        <div>
        <input type="range" id="progress" value="0">
        <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
        </div>
      </div>

      <a href="https://otieu.com/4/9620066" target="_blank"><button id="download-all"><i class="fas fa-download"></i> Télécharger toutes les musiques</button></a>
    </section>

    <div class="playlist" id="playlist"></div>
  </main>

  <nav class="nav-mobile">
    <a href="../index.html"><i class="fas fa-home"></i><span>Accueil</span></a>
    <a href="../albums.html"><i class="fas fa-compact-disc"></i><span>Albums</span></a>
    <a href="../artistes.html"><i class="fas fa-user"></i><span>Artistes</span></a>
    <a href="../clips.html"><i class="fas fa-video"></i><span>Clips</span></a>
  </nav>

  <div id="cookie-banner" class="cookie-banner">
    <p>
      Ce site utilise des cookies pour améliorer l’expérience utilisateur et diffuser des publicités personnalisées. 
      <a href="https://m3bproduction.site/confiden.html" target="_blank">En savoir plus</a>
    </p>
    <button id="accept-cookies">Accepter</button>
  </div>

  <script>
    const playlist = [
      { title: "1. Gambusi", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/1. Victorious Awax - Gambusi.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "2. Mshinda", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/2. Victorious Awax - Mshinda.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "3. Heli Ujawo", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/3. Victorious Awax - Heli Ujawo.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "4. Mshishi", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/4. Victorious Awax - Mshishi.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "5. Msa Ha Siha Msa feat Blacka", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/5. Victorious Awax - Msa Ha Siha Msa feat Blacka.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "6. Mkame Mbi", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/6. Victorious Awax - Mkame Mbi.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "7. Ex Waho", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/7. Victorious Awax - Ex Waho.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "8. Baki Vanu", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/8. Victorious Awax - Baki Vanu.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "9. Truru", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/9. Victorious Awax - Truru.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "10. Wani Umbisa", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/10. Victorious Awax - Wani Umbisa.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "11. Ulanga Na Juwa", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/11. Victorious Awax - Ulanga Na Juwa.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "12. Roho Ya Diha", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/12. Victorious Awax - Roho Ya Diha.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "13. Johnny Waxxo", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/13. Victorious Awax - Johnny Waxxo.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "14. Silisi", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/14. Victorious Awax - Silisi.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "15. Mbali", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/15. Victorious Awax - Mbali.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "16. Narambe Zinu Na Zila", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/16. Victorious Awax - Narambe Zinu Na Zila.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "17. Tsi Sekua Le Pambo", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/17. Victorious Awax - Tsi Sekua Le Pambo.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "18. Ri Wone Ri Win", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/18. Victoirious Awax - Ri Wone Ri Win.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "19. Ni Kaye", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/19. Victorious Awax - Ni Kaye.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "20. Nafasi", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/20. Victorious Awax - Nafasi.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "21. Kantsi Mna Wakati", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/21. Victorious Awax - Kantsi Mna Wakati.mp3", cover: "MSHINDA/mshinda.jpg" },
      { title: "22. Kabla Hwenda Zangu", artist: "Victorious Awax", album: "MSHINDA", src: "MSHINDA/22. Victorious Awax - Kabla Hwenda Zangu.mp3", cover: "MSHINDA/mshinda.jpg" }
    ];

    let currentTrack = 0;
    let mode = "normal"; // "normal", "shuffle", "loop"

    const audio = document.getElementById("audio");
    const cover = document.getElementById("cover");
    const title = document.getElementById("title");
    const artist = document.getElementById("artist");
    const album = document.getElementById("album");

    const playBtn = document.getElementById("play");
    const nextBtn = document.getElementById("next");
    const prevBtn = document.getElementById("prev");
    const modeBtn = document.getElementById("mode");
    const volume = document.getElementById("volume");
    const progress = document.getElementById("progress");

    const playlistContainer = document.getElementById("playlist");

    function loadTrack(index) {
      const track = playlist[index];
      audio.src = track.src;
      cover.src = track.cover || "cover.jpg";
      title.textContent = track.title;
      artist.textContent = track.artist;
      album.textContent = track.album;
      audio.play();
      playBtn.innerHTML = '<i class="fas fa-pause"></i>';
    }

    function renderPlaylist() {
      playlistContainer.innerHTML = "";
      playlist.forEach((track, index) => {
        const item = document.createElement("div");
        item.className = "playlist-item";
        item.innerHTML = `
          <p>${track.title} - ${track.artist}</p>
          <a href="${track.src}" download><i class="fas fa-download"></i></a>
        `;
        item.onclick = () => {
          currentTrack = index;
          loadTrack(currentTrack);
        };
        playlistContainer.appendChild(item);
      });
    }

    playBtn.onclick = () => {
      if (audio.paused) {
        audio.play();
        playBtn.innerHTML = '<i class="fas fa-pause"></i>';
      } else {
        audio.pause();
        playBtn.innerHTML = '<i class="fas fa-play"></i>';
      }
    };

    nextBtn.onclick = () => {
      currentTrack = (currentTrack + 1) % playlist.length;
      loadTrack(currentTrack);
    };

    prevBtn.onclick = () => {
      currentTrack = (currentTrack - 1 + playlist.length) % playlist.length;
      loadTrack(currentTrack);
    };

    modeBtn.onclick = () => {
      if (mode === "normal") {
        mode = "shuffle";
        modeBtn.innerHTML = '<i class="fas fa-random"></i>';
      } else if (mode === "shuffle") {
        mode = "loop";
        modeBtn.innerHTML = '<i class="fas fa-redo"></i>';
      } else {
        mode = "normal";
        modeBtn.innerHTML = '<i class="fas fa-music"></i>';
      }
    };

    audio.addEventListener("ended", () => {
      if (mode === "loop") {
        audio.currentTime = 0;
        audio.play();
      } else if (mode === "shuffle") {
        let nextTrack;
        do {
          nextTrack = Math.floor(Math.random() * playlist.length);
        } while (nextTrack === currentTrack);
        currentTrack = nextTrack;
        loadTrack(currentTrack);
      } else {
        nextBtn.click();
      }
    });

    volume.oninput = () => {
      audio.volume = volume.value;
    };

    audio.ontimeupdate = () => {
      progress.value = (audio.currentTime / audio.duration) * 100 || 0;
    };

    progress.oninput = () => {
      audio.currentTime = (progress.value / 100) * audio.duration;
    };

    document.getElementById("download-all").onclick = () => {
      playlist.forEach(track => {
        const link = document.createElement("a");
        link.href = track.src;
        link.download = track.src.split("/").pop();
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      });
    };

    // Initialisation
    renderPlaylist();
    loadTrack(currentTrack);

    const cookieBanner = document.getElementById('cookie-banner');
    const acceptCookiesBtn = document.getElementById('accept-cookies');

    if (!localStorage.getItem('cookiesAccepted')) {
      cookieBanner.style.display = 'flex';
    }

    acceptCookiesBtn.addEventListener('click', () => {
      localStorage.setItem('cookiesAccepted', 'true');
      cookieBanner.style.display = 'none';
    });
  </script>
</body>
</html>
